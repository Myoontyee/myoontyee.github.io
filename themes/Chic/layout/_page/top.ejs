<%# single top page%>
<!-- ÂºïÂÖ•Ê†áÁ≠æ -->
<link rel="stylesheet" href="../fonts/iconfont3/iconfont.css"> 
<!-- Ëøô‰∏™Êñá‰ª∂ÊòØÊ†áÁ≠æÈ°µÈù¢ÁöÑÂ∏ÉÂ±Ä -->
<%#

this page will judge whether current page is 'tag.'
url:'http://localhost:4000/tag/' return false.
url:'http://localhost:4000/tags/test/' return true.

if you enter 'tag' page by click link will show all tags.
otherwise if you enter 'tags' by click post header link will show the single tag of this post.

how to add a tag page:

    1. hexo new page "tag"
    2. cd source/tag/index.md
    3. add layout pattern like this:
    ---
    title: '''tag'''
    date: 2019-06-09 09:56:49
    layout: tag
    ---

 %>

    <div class="container top">
        <div class="post-wrap tags top">
            <!-- <h2 class="post-title">-&nbsp;üè∑Ô∏èÊ†áÁ≠æ&nbsp;-</h2> -->
            <h2 class="post-title top">-&nbsp;<i class="iconfont icon-wenzhang" style="font-size: 1em;"></i>ÂçöÊñá&nbsp;-</h2>
            <br>
            <!-- <div class="tag-cloud-tags top">
                <%site.tags.forEach(item=>{%>
                    <a href="<%-url_for(item.path)%>"><%- item.name%><small>(<%-item.length%>)</small></a>
                <%})%>
            </div> -->
                <!-- 2022Âπ¥3Êúà29Êó• Ê∑ªÂä†ÁΩÆÈ°∂ÂäüËÉΩ -->
                <div class ="post top">
                    <hr />
                    <h3>ÁΩÆÈ°∂</h3>
                    <!-- Âà§Êñ≠ÊúâÊ≤°Êúâ ÁΩÆÈ°∂ Ëøô‰∏™Ê†áÁ≠æÁöÑÊñáÁ´† -->
                    <%site.tags.forEach(item=>{%>
                        <% if(item.name == "ÁΩÆÈ°∂"){ %>
                            <% item.posts.each(function (post) { %>
                            <!-- ÊúâÁöÑÊÉÖÂÜµÂà§Êñ≠ÊúâÊ≤°ÊúâtopÊï∞ÂÄºÔºåÊåâtop‰ªéÂ§ßÂà∞Â∞èÊéíÂàóÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Áî®Êó∂Èó¥ÔºåÁõÆÂâçÂçïÁã¨ÂÜô‰∫Ü‰∏™top -->
                                <% if(post.top){ %>
                                    <article class="top-item">
                                        <a class="top-item-link" href="<%- url_for(post.path) %>">
                                            <li>
                                                üî•<%= post.title %>üî•
                                            </li>
                                        </a>
                                        <span class="top-item-date"><%- date(post.date, theme.date_format) %></span>
                                    </article>
                                <% ;} %>
                            <% }) %>
                        <% ;} %>
                    <% }) %>
                    <hr />
                </div>
                <!-- 2022Âπ¥3Êúà29Êó• Ê∑ªÂä†ÁΩÆÈ°∂ÂäüËÉΩ‰∏∫‰∏ä -->

                <!-- 2022Âπ¥3Êúà31Êó• Ê∑ªÂä†ÊØèÈ°µÊñáÁ´†Êï∞Â¶Ç‰∏ã -->
                <!-- 2022Âπ¥3Êúà30Êó• ÊØèÈ°µÊù°Êï∞ -->
                <% var perPage = config.top_generator.per_page %>
                <% var currentPage = url.match(/page\/(.*)\//) ? url.match(/page\/(.*)\//)[1] : 1 %>
                <% var last_year = ''; %>
                <% var posts = site.posts %>
                <!-- ÊåâdateÈÄÜÂ∫èÊéíÂ∫è -->
                <% posts.data = posts.data.sort((a, b) => b.date - a.date) %>
                <% posts.slice((currentPage - 1) * perPage, currentPage * perPage ).each(function (post) { %>
                        <% var cur_year = post.date.year(); %>
                        <% if(last_year !== cur_year){ %>
                            <h3><%- cur_year %></h3>
                        <% last_year = cur_year; } %>
                        <article class="archive-item">
                            
                            <a class="archive-item-link" href="<%- url_for(post.path) %>">
                            <li>
                                <%= post.title %>
                            </li>
                            </a>
                            
                            <span class="archive-item-date"><%- date(post.date, theme.date_format) %></span>
                        </article>
                <% }) %>

                <% if(Math.ceil(posts.length /  perPage) > 1) { %>
                <nav class="pagination">
                    <%- paginator({
                        prev_next: false,
                        end_size: 1,
                        mid_size: 2,
                        total: Math.ceil(posts.length /  perPage)
                    }) %>
                </nav>

                <% } %>
                <!-- 2022Âπ¥3Êúà31Êó• Ê∑ªÂä†ÊØèÈ°µÊñáÁ´†Êï∞Â¶Ç‰∏ä -->
        </div>
    </div>



<style>
    li{
        width: 650px;
        height: 29.5px;
        /*‰∏çÊç¢Ë°å*/
        white-space: nowrap;
        /*Ê∫¢Âá∫ÁöÑËØùÔºåÈöêËóè*/
        overflow: hidden;
        /*ÊñáÊú¨Ê∫¢Âá∫Êó∂ÔºåÊòØÂê¶....*/
        text-overflow: ellipsis;
    }
</style>